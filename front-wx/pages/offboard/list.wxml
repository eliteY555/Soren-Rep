<!--ç¦»èŒç”³è¯·åˆ—è¡¨é¡µé¢-->
<view class="container">
  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-row">
    <view class="stat-item pending">
      <text class="stat-icon">â°</text>
      <view class="stat-value">{{stats.pending}}</view>
      <view class="stat-label">å®¡æ‰¹ä¸­</view>
    </view>
    <view class="stat-item success">
      <text class="stat-icon">âœ…</text>
      <view class="stat-value">{{stats.approved}}</view>
      <view class="stat-label">å·²é€šè¿‡</view>
    </view>
    <view class="stat-item error">
      <text class="stat-icon">âŒ</text>
      <view class="stat-value">{{stats.rejected}}</view>
      <view class="stat-label">å·²é©³å›</view>
    </view>
  </view>

  <!-- ç”³è¯·åˆ—è¡¨ -->
  <view class="list-section">
    <view wx:for="{{applications}}" wx:key="id" class="list-item {{item.status === 'PENDING_APPROVAL' || item.status === 'PENDING_SIGN' || item.status === 'PENDING' ? 'pending' : item.status === 'APPROVED' ? 'success' : 'error'}}" bindtap="goToDetail" data-id="{{item.id}}">
      <view class="list-header">
        <view>
          <view class="list-title">ç¦»èŒç”³è¯· - {{item.position}}</view>
          <view class="list-no">{{item.applicationNo}}</view>
        </view>
        <view class="status-badge {{item.status === 'PENDING_APPROVAL' || item.status === 'PENDING_SIGN' || item.status === 'PENDING' ? 'status-pending' : item.status === 'APPROVED' ? 'status-success' : 'status-error'}}">
          {{item.statusDesc}}
        </view>
      </view>
      
      <view class="list-info">
        <view class="info-item">
          <text>ğŸ‘¤ ç”³è¯·äººï¼š</text>
          <text class="value">{{item.employeeName}}</text>
        </view>
        <view class="info-item">
          <text>ğŸ“… ç¦»èŒæ—¥æœŸï¼š</text>
          <text class="value">{{item.offboardDate}}</text>
        </view>
        <view class="info-item">
          <text>ğŸ“ ç¦»èŒåŸå› ï¼š</text>
          <text class="value">{{item.reason}}</text>
        </view>
        <view class="info-item">
          <text>ğŸ”„ å½“å‰èŠ‚ç‚¹ï¼š</text>
          <text class="value status">{{item.statusDesc}}</text>
        </view>
      </view>
      
      <view class="list-footer">
        ğŸ• æäº¤æ—¶é—´ï¼š{{item.createTime}}
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view wx:if="{{applications.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“‹</text>
      <text class="empty-text">æš‚æ— ç¦»èŒç”³è¯·è®°å½•</text>
      <button class="btn-create" bindtap="goToApply">å‘èµ·ç¦»èŒç”³è¯·</button>
    </view>
  </view>

  <!-- æ–°å»ºæŒ‰é’® -->
  <view wx:if="{{applications.length > 0}}" class="fab" bindtap="goToApply">
    <text class="fab-icon">+</text>
  </view>
</view>

